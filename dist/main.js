(()=>{"use strict";const t=(()=>{const t=t=>{const r=["A","B","C","D","E","F","G","H","I","J"],o=["1","2","3","4","5","6","7","8","9","10"];for(let i=-1;i<10;i++)for(let n=-1;n<10;n++)if(-1===i)if(-1===n){const e=document.createElement("div");e.classList.add("gameboard-label"),e.style.visibility="hidden",t.appendChild(e)}else{const e=document.createElement("div");e.classList.add("column-label"),e.textContent=r[n],t.appendChild(e)}else if(-1===n){const e=document.createElement("div");e.classList.add("row-label"),e.textContent=o[i],t.appendChild(e)}else if(Array.from(t.classList).includes("player-board")){const a=document.createElement("div");a.setAttribute("data-row",i),a.setAttribute("data-column",n),a.classList.add("gameboard-cell"),a.addEventListener("dragover",(t=>{e(t)})),a.addEventListener("drop",(t=>{s(t)})),t.appendChild(a)}else if(Array.from(t.classList).includes("opponent-board")){const e=document.createElement("button");e.setAttribute("data-row",i),e.setAttribute("data-column",n),e.classList.add("gameboard-cell"),e.addEventListener("click",(t=>{console.log(e);const s=Number(e.dataset.row),r=Number(e.dataset.column);a.getPlayers()[0].sendAttack([s,r])})),t.appendChild(e)}},e=()=>{event.preventDefault()},s=t=>{t.preventDefault();const e=t.target;if(Array.from(e.classList).includes("contains-ship-image"))return;const r=t.dataTransfer.getData("image"),o=JSON.parse(r);if(!((t,e)=>{const s=[Number(t.dataset.row),Number(t.dataset.column)],r=Number(e.shipLength);return e.horizontal?a.getPlayers()[0].checkIfValidEmptyCoordinates(s,r,"right")?(console.log("fits"),!0):(console.log("nope"),!1):e.vertical?a.getPlayers()[0].checkIfValidEmptyCoordinates(s,r,"down")?(console.log("fits"),!0):(console.log("nope"),!1):void 0})(e,o))return;const i=((t,e)=>{const a=e.shipLength,s=Number(t.dataset.row),r=Number(t.dataset.column),o=[[s,r]];t.classList.add("contains-ship-image"),t.classList.add("ship-image"),t.classList.add(`ship-image-${a}`),t.classList.add(`ship-image-${a}-1`),e.horizontal?t.classList.add("horizontal"):e.vertical&&t.classList.add("vertical");for(let t=1;t<a;t++){let i;e.horizontal?(i=document.querySelector(`.player-board [data-row='${s}'][data-column='${r+t}']`),i.classList.add("horizontal"),o.push([s,r+t])):e.vertical&&(i=document.querySelector(`.player-board [data-row='${s+t}'][data-column='${r}']`),i.classList.add("vertical"),o.push([s+t,r])),i.classList.add("contains-ship-image"),i.classList.add("ship-image"),i.classList.add(`ship-image-${a}`),i.classList.add(`ship-image-${a}-${t+1}`)}return o})(e,o);a.getPlayers()[0].addShipToGameboard(Number(o.shipLength),i),(t=>{const e=t.elementID,a=document.querySelector(`#${e}`),s=a.parentNode.querySelector("button");a.setAttribute("draggable",!1),a.classList.add("disabled-image"),s.disabled=!0})(o),e.removeEventListener("drop",s)};return{initializeBoardDOM:()=>{const e=document.querySelector(".player-board"),a=document.querySelector(".opponent-board");t(e),t(a)},insertDraggedImage:s,rotateShipImage:t=>{const e=Array.from(t.classList);e.includes("horizontal")?(t.classList.remove("horizontal"),t.classList.add("vertical")):e.includes("vertical")&&(t.classList.remove("vertical"),t.classList.add("horizontal"))},rotateDraggedImage:t=>{const e=t.target.cloneNode(),a=document.createElement("div");a.classList.add("temp-rotate"),((t,e)=>{const a=Array.from(e.classList);a.includes("horizontal")?t.classList.add("temp-rotate-horizontal"):a.includes("vertical")&&(t.classList.add("temp-rotate-vertical"),"5"===e.dataset.shipLength?t.classList.add("temp-rotate-vertical-5"):"4"===e.dataset.shipLength?t.classList.add("temp-rotate-vertical-4"):"3"===e.dataset.shipLength?t.classList.add("temp-rotate-vertical-3"):"2"===e.dataset.shipLength&&t.classList.add("temp-rotate-vertical-2"))})(a,e),a.appendChild(e),document.body.appendChild(a),t.dataTransfer.setDragImage(a,0,0),setTimeout((()=>{document.body.removeChild(a)}),0)},getDraggedImage:t=>{const e={image:t.target.src,shipLength:t.target.dataset.shipLength,horizontal:!1,vertical:!1,elementID:t.target.getAttribute("id")};Array.from(t.target.classList).includes("horizontal")?e.horizontal=!0:Array.from(t.target.classList).includes("vertical")&&(e.vertical=!0),console.log(e);const a=JSON.stringify(e);t.dataTransfer.setData("image",a)},dragOver:e,addAttackResultDOM:(t,e,a)=>{const s=a[0],r=a[1];console.log(t);const o=document.querySelector(`.${t}-board`).querySelector(`[data-row='${s}'][data-column='${r}']`),i=document.createElement("img");i.classList.add("attack-results"),o.appendChild(i),"hit"===e?i.setAttribute("src","../dist/red_X.png"):i.setAttribute("src","../dist/white_O.png")}}})(),e=e=>{const s="human"!==e&&("computer"===e||void 0),r=(()=>{const t=(()=>{const t=[];for(let e=0;e<10;e++){t.push([]);for(let a=0;a<10;a++)t[e].push(void 0)}return t})(),e=[],a=[],s=[],r=[],o=[];let i=!1;const n=e=>t[e[0]][e[1]];return{getCoordinates:n,getPlacedShips:()=>e,getReceivedMissedShots:()=>a,getReceivedHitShots:()=>s,getSentMissedShots:()=>r,getSentHitShots:()=>o,isAllShipsSunk:()=>i,placeShip:(a,s)=>{for(const e of s)t[e[0]][e[1]]=a;e.push(a)},receiveAttack:t=>{const r=n(t);return void 0!==r?(r.hit(),e.every((t=>t.isSunk()))&&(i=!0),s.push(t),"hit"):(a.push(t),"miss")},addSentMissedShot:t=>{r.push(t)},addSentHitShot:t=>{o.push(t)}}})();let o;const i=()=>s,n=(t,e)=>{const a=(t=>{const e=t;let a=0,s=!1;return{getShipLength:()=>e,getShipHits:()=>a,isSunk:()=>s,hit:()=>{if(s)return"That ship has already been sunk!";a+=1,a===e&&(s=!0)}}})(t);r.placeShip(a,e)},d=e=>{const s=o.getGameboard(),n=o.receiveAttack(e);if("hit"===n){if(r.addSentHitShot(e),i()?i()&&t.addAttackResultDOM("player",n,e):t.addAttackResultDOM("opponent",n,e),s.isAllShipsSunk())return void a.endGame(o)}else"miss"===n&&(r.addSentMissedShot(e),i()?i()&&t.addAttackResultDOM("player",n,e):t.addAttackResultDOM("opponent",n,e));o.isComputer()&&o.sendComputerAttack()},l=t=>{let e=[];do{e=[];const a=c(),s=u(a,t);e.push(a),e=e.concat(s)}while(e.length<t);return e},c=()=>{const t=[void 0,void 0];do{t[0]=h(),t[1]=h()}while(void 0!==r.getCoordinates(t));return t},u=(t,e)=>{const a=[];if(m(t,e,"up")){const s=[];for(let a=1;a<e;a++)s.push([t[0]-a,t[1]]);a.push(s)}if(m(t,e,"right")){const s=[];for(let a=1;a<e;a++)s.push([t[0],t[1]+a]);a.push(s)}if(m(t,e,"down")){const s=[];for(let a=1;a<e;a++)s.push([t[0]+a,t[1]]);a.push(s)}if(m(t,e,"left")){const s=[];for(let a=1;a<e;a++)s.push([t[0],t[1]-a]);a.push(s)}return 0===a.length?a:a[Math.floor(Math.random()*a.length)]},h=()=>Math.floor(10*Math.random()),p=(t,e)=>t.some((t=>t[0]===e[0]&&t[1]===e[1])),m=(t,e,a)=>{switch(a){case"up":if(t[0]-(e-1)<0)return!1;for(let a=1;a<e;a++)if(void 0!==r.getCoordinates([t[0]-a,t[1]]))return!1;return!0;case"right":if(t[1]+(e-1)>9)return!1;for(let a=1;a<e;a++)if(void 0!==r.getCoordinates([t[0],t[1]+a]))return!1;return!0;case"down":if(t[0]+(e-1)>9)return!1;for(let a=1;a<e;a++)if(void 0!==r.getCoordinates([t[0]+a,t[1]]))return!1;return!0;case"left":if(t[1]-(e-1)<0)return!1;for(let a=1;a<e;a++)if(void 0!==r.getCoordinates([t[0],t[1]-a]))return!1;return!0}};return{isComputer:i,getGameboard:()=>r,getOpposingPlayer:()=>o,setOpposingPlayer:t=>{o=t},addShipToGameboard:n,sendAttack:d,initializeComputerGameboard:()=>{if(!s)return;const t=[5,4,3,3,2];for(const e of t){const t=l(e);n(e,t)}},sendComputerAttack:()=>{if(!s)return;const t=(()=>{const t=o.getGameboard().getReceivedMissedShots(),e=o.getGameboard().getReceivedHitShots(),a=[void 0,void 0];do{a[0]=h(),a[1]=h()}while(p(t,a)||p(e,a));return a})();d(t)},receiveAttack:t=>r.receiveAttack(t),checkIfValidEmptyCoordinates:m}},a=(()=>{const t=[];let a,s=!0;return{getPlayers:()=>t,isInProgress:()=>s,getWinner:()=>a,createGame:()=>{const a=e("human");t.push(a);const s=e("computer");t.push(s),a.setOpposingPlayer(s),s.setOpposingPlayer(a),s.initializeComputerGameboard()},endGame:t=>{s=!1,(t=>{const e=t.getOpposingPlayer();a=e})(t)},resetGame:()=>{t.length=0,s=!0,a=void 0}}})(),s=()=>{document.querySelectorAll(".ship-placement").forEach((e=>{const a=e.children[0];e.children[2].addEventListener("click",(()=>{t.rotateShipImage(a)}))}))},r=()=>{Array.from(document.querySelectorAll(".ship-piece")).forEach((e=>{e.addEventListener("dragstart",(e=>{t.getDraggedImage(e),t.rotateDraggedImage(e)}))}))};a.createGame(),t.initializeBoardDOM(),s(),r()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Li9zcmMvc2hpcC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvRE9NX2NvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3BsYXllci5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9nYW1lbG9vcC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvZXZlbnRfbGlzdGVuZXJfY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU2hpcCA9IChnaXZlbkxlbmd0aCkgPT4ge1xuICBjb25zdCBsZW5ndGggPSBnaXZlbkxlbmd0aDtcbiAgbGV0IGhpdHMgPSAwO1xuICBsZXQgc3VuayA9IGZhbHNlO1xuICBjb25zdCBnZXRTaGlwTGVuZ3RoID0gKCkgPT4gbGVuZ3RoO1xuICBjb25zdCBnZXRTaGlwSGl0cyA9ICgpID0+IGhpdHM7XG4gIGNvbnN0IGlzU3VuayA9ICgpID0+IHN1bms7XG4gIGNvbnN0IGNoZWNrSWZTdW5rID0gKCkgPT4ge1xuICAgIGlmIChoaXRzID09PSBsZW5ndGgpIHtcbiAgICAgIHN1bmsgPSB0cnVlO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgaGl0ID0gKCkgPT4ge1xuICAgIGlmICghc3Vuaykge1xuICAgICAgaGl0cyArPSAxO1xuICAgICAgY2hlY2tJZlN1bmsoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFwiVGhhdCBzaGlwIGhhcyBhbHJlYWR5IGJlZW4gc3VuayFcIjtcbiAgICB9XG4gIH07XG4gIHJldHVybiB7XG4gICAgZ2V0U2hpcExlbmd0aCxcbiAgICBnZXRTaGlwSGl0cyxcbiAgICBpc1N1bmssXG4gICAgaGl0LFxuICB9O1xufTtcblxuZXhwb3J0IHsgU2hpcCB9O1xuIiwiaW1wb3J0IHsgR2FtZUxvb3AgfSBmcm9tIFwiLi9nYW1lbG9vcFwiO1xuXG5jb25zdCBET01Db250cm9sbGVyID0gKCgpID0+IHtcbiAgY29uc3QgY3JlYXRlQm9hcmRDZWxscyA9IChnYW1lYm9hcmRET00pID0+IHtcbiAgICBjb25zdCBCT0FSREFYRVNMRU5HVEggPSAxMDtcbiAgICBjb25zdCBjb2x1bW5MYWJlbHMgPSBbXCJBXCIsIFwiQlwiLCBcIkNcIiwgXCJEXCIsIFwiRVwiLCBcIkZcIiwgXCJHXCIsIFwiSFwiLCBcIklcIiwgXCJKXCJdO1xuICAgIGNvbnN0IHJvd0xhYmVscyA9IFtcIjFcIiwgXCIyXCIsIFwiM1wiLCBcIjRcIiwgXCI1XCIsIFwiNlwiLCBcIjdcIiwgXCI4XCIsIFwiOVwiLCBcIjEwXCJdO1xuICAgIGZvciAobGV0IGkgPSAtMTsgaSA8IEJPQVJEQVhFU0xFTkdUSDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gLTE7IGogPCBCT0FSREFYRVNMRU5HVEg7IGorKykge1xuICAgICAgICBpZiAoaSA9PT0gLTEpIHtcbiAgICAgICAgICBpZiAoaiA9PT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IGludmlzaWJsZVBsYWNlaG9sZGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBpbnZpc2libGVQbGFjZWhvbGRlckVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImdhbWVib2FyZC1sYWJlbFwiKTtcbiAgICAgICAgICAgIGludmlzaWJsZVBsYWNlaG9sZGVyRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICAgIGdhbWVib2FyZERPTS5hcHBlbmRDaGlsZChpbnZpc2libGVQbGFjZWhvbGRlckVsZW1lbnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjb2x1bW5MYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgY29sdW1uTGFiZWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjb2x1bW4tbGFiZWxcIik7XG4gICAgICAgICAgICBjb2x1bW5MYWJlbEVsZW1lbnQudGV4dENvbnRlbnQgPSBjb2x1bW5MYWJlbHNbal07XG4gICAgICAgICAgICBnYW1lYm9hcmRET00uYXBwZW5kQ2hpbGQoY29sdW1uTGFiZWxFbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaiA9PT0gLTEpIHtcbiAgICAgICAgICBjb25zdCByb3dMYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIHJvd0xhYmVsRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicm93LWxhYmVsXCIpO1xuICAgICAgICAgIHJvd0xhYmVsRWxlbWVudC50ZXh0Q29udGVudCA9IHJvd0xhYmVsc1tpXTtcbiAgICAgICAgICBnYW1lYm9hcmRET00uYXBwZW5kQ2hpbGQocm93TGFiZWxFbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjb25zdCBjZWxsRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgLy8gY2VsbEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1yb3dcIiwgaSk7XG4gICAgICAgICAgLy8gY2VsbEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jb2x1bW5cIiwgaik7XG4gICAgICAgICAgLy8gY2VsbEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImdhbWVib2FyZC1jZWxsXCIpO1xuICAgICAgICAgIC8vIGNlbGxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnb3ZlclwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAvLyAgIGRyYWdPdmVyKGV2ZW50KTtcbiAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAvLyBjZWxsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAvLyAgIGluc2VydERyYWdnZWRJbWFnZShldmVudCk7XG4gICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgaWYgKEFycmF5LmZyb20oZ2FtZWJvYXJkRE9NLmNsYXNzTGlzdCkuaW5jbHVkZXMoXCJwbGF5ZXItYm9hcmRcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIGNlbGxFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtcm93XCIsIGkpO1xuICAgICAgICAgICAgY2VsbEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1jb2x1bW5cIiwgaik7XG4gICAgICAgICAgICBjZWxsRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZ2FtZWJvYXJkLWNlbGxcIik7XG4gICAgICAgICAgICBjZWxsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGRyYWdPdmVyKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2VsbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImRyb3BcIiwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIGluc2VydERyYWdnZWRJbWFnZShldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGdhbWVib2FyZERPTS5hcHBlbmRDaGlsZChjZWxsRWxlbWVudCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIEFycmF5LmZyb20oZ2FtZWJvYXJkRE9NLmNsYXNzTGlzdCkuaW5jbHVkZXMoXCJvcHBvbmVudC1ib2FyZFwiKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3QgY2VsbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgY2VsbEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1yb3dcIiwgaSk7XG4gICAgICAgICAgICBjZWxsRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWNvbHVtblwiLCBqKTtcbiAgICAgICAgICAgIGNlbGxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJnYW1lYm9hcmQtY2VsbFwiKTtcbiAgICAgICAgICAgIGNlbGxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coY2VsbEVsZW1lbnQpO1xuICAgICAgICAgICAgICBjb25zdCBjZWxsUm93ID0gTnVtYmVyKGNlbGxFbGVtZW50LmRhdGFzZXQucm93KTtcbiAgICAgICAgICAgICAgY29uc3QgY2VsbENvbHVtbiA9IE51bWJlcihjZWxsRWxlbWVudC5kYXRhc2V0LmNvbHVtbik7XG4gICAgICAgICAgICAgIEdhbWVMb29wLmdldFBsYXllcnMoKVswXS5zZW5kQXR0YWNrKFtjZWxsUm93LCBjZWxsQ29sdW1uXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGdhbWVib2FyZERPTS5hcHBlbmRDaGlsZChjZWxsRWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIHNvbWUgY2xpY2sgZXZlbnQgbGlzdGVuZXIgd2hlcmUgYXR0YWNrIGlzIG1hZGUgT1IgcHJpb3IgdG8gdGhhdCwgcGxhY2luZyBzaGlwIG9uIHRoYXQgY2VsbFxuICAgICAgICAgIC8vIGdhbWVib2FyZERPTS5hcHBlbmRDaGlsZChjZWxsRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IGdldERyYWdnZWRJbWFnZSA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IGRhdGFPYmplY3QgPSB7XG4gICAgICBpbWFnZTogZXZlbnQudGFyZ2V0LnNyYyxcbiAgICAgIHNoaXBMZW5ndGg6IGV2ZW50LnRhcmdldC5kYXRhc2V0LnNoaXBMZW5ndGgsXG4gICAgICBob3Jpem9udGFsOiBmYWxzZSxcbiAgICAgIHZlcnRpY2FsOiBmYWxzZSxcbiAgICAgIGVsZW1lbnRJRDogZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZShcImlkXCIpLFxuICAgIH07XG4gICAgaWYgKEFycmF5LmZyb20oZXZlbnQudGFyZ2V0LmNsYXNzTGlzdCkuaW5jbHVkZXMoXCJob3Jpem9udGFsXCIpKSB7XG4gICAgICBkYXRhT2JqZWN0Lmhvcml6b250YWwgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuZnJvbShldmVudC50YXJnZXQuY2xhc3NMaXN0KS5pbmNsdWRlcyhcInZlcnRpY2FsXCIpKSB7XG4gICAgICBkYXRhT2JqZWN0LnZlcnRpY2FsID0gdHJ1ZTtcbiAgICB9XG4gICAgY29uc29sZS5sb2coZGF0YU9iamVjdCk7XG4gICAgY29uc3QgZGF0YVN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGRhdGFPYmplY3QpO1xuICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiaW1hZ2VcIiwgZGF0YVN0cmluZyk7XG4gIH07XG4gIGNvbnN0IGRyYWdPdmVyID0gKCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG4gIGNvbnN0IGluaXRpYWxpemVCb2FyZERPTSA9ICgpID0+IHtcbiAgICBjb25zdCBodW1hblBsYXllckdhbWVib2FyZERPTSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyLWJvYXJkXCIpO1xuICAgIGNvbnN0IG9wcG9uZW50R2FtZWJvYXJkRE9NID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcHBvbmVudC1ib2FyZFwiKTtcbiAgICBjcmVhdGVCb2FyZENlbGxzKGh1bWFuUGxheWVyR2FtZWJvYXJkRE9NKTtcbiAgICBjcmVhdGVCb2FyZENlbGxzKG9wcG9uZW50R2FtZWJvYXJkRE9NKTtcbiAgfTtcbiAgY29uc3QgaXNWYWxpZEdhbWVib2FyZENlbGwgPSAodGFyZ2V0Q2VsbCwgZGF0YU9iamVjdCkgPT4ge1xuICAgIGNvbnN0IGNlbGxDb29yZGluYXRlcyA9IFtcbiAgICAgIE51bWJlcih0YXJnZXRDZWxsLmRhdGFzZXQucm93KSxcbiAgICAgIE51bWJlcih0YXJnZXRDZWxsLmRhdGFzZXQuY29sdW1uKSxcbiAgICBdO1xuICAgIGNvbnN0IGxlbmd0aCA9IE51bWJlcihkYXRhT2JqZWN0LnNoaXBMZW5ndGgpO1xuICAgIGlmIChkYXRhT2JqZWN0Lmhvcml6b250YWwpIHtcbiAgICAgIGlmIChcbiAgICAgICAgR2FtZUxvb3AuZ2V0UGxheWVycygpWzBdLmNoZWNrSWZWYWxpZEVtcHR5Q29vcmRpbmF0ZXMoXG4gICAgICAgICAgY2VsbENvb3JkaW5hdGVzLFxuICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICBcInJpZ2h0XCJcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZml0c1wiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhcIm5vcGVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChkYXRhT2JqZWN0LnZlcnRpY2FsKSB7XG4gICAgICBpZiAoXG4gICAgICAgIEdhbWVMb29wLmdldFBsYXllcnMoKVswXS5jaGVja0lmVmFsaWRFbXB0eUNvb3JkaW5hdGVzKFxuICAgICAgICAgIGNlbGxDb29yZGluYXRlcyxcbiAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgXCJkb3duXCJcbiAgICAgICAgKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZml0c1wiKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhcIm5vcGVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xuICBjb25zdCBhZGRTaGlwVG9ET00gPSAodGFyZ2V0Q2VsbCwgZGF0YU9iamVjdCkgPT4ge1xuICAgIGNvbnN0IGxlbmd0aCA9IGRhdGFPYmplY3Quc2hpcExlbmd0aDtcbiAgICBjb25zdCB0YXJnZXRDZWxsUm93ID0gTnVtYmVyKHRhcmdldENlbGwuZGF0YXNldC5yb3cpO1xuICAgIGNvbnN0IHRhcmdldENlbGxDb2x1bW4gPSBOdW1iZXIodGFyZ2V0Q2VsbC5kYXRhc2V0LmNvbHVtbik7XG4gICAgY29uc3QgY29vcmRpbmF0ZXNBcnJheSA9IFtbdGFyZ2V0Q2VsbFJvdywgdGFyZ2V0Q2VsbENvbHVtbl1dO1xuICAgIHRhcmdldENlbGwuY2xhc3NMaXN0LmFkZChcImNvbnRhaW5zLXNoaXAtaW1hZ2VcIik7XG4gICAgdGFyZ2V0Q2VsbC5jbGFzc0xpc3QuYWRkKFwic2hpcC1pbWFnZVwiKTtcbiAgICB0YXJnZXRDZWxsLmNsYXNzTGlzdC5hZGQoYHNoaXAtaW1hZ2UtJHtsZW5ndGh9YCk7XG4gICAgdGFyZ2V0Q2VsbC5jbGFzc0xpc3QuYWRkKGBzaGlwLWltYWdlLSR7bGVuZ3RofS0xYCk7XG4gICAgaWYgKGRhdGFPYmplY3QuaG9yaXpvbnRhbCkge1xuICAgICAgdGFyZ2V0Q2VsbC5jbGFzc0xpc3QuYWRkKFwiaG9yaXpvbnRhbFwiKTtcbiAgICB9IGVsc2UgaWYgKGRhdGFPYmplY3QudmVydGljYWwpIHtcbiAgICAgIHRhcmdldENlbGwuY2xhc3NMaXN0LmFkZChcInZlcnRpY2FsXCIpO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgcmVtYWluaW5nQ2VsbDtcbiAgICAgIGlmIChkYXRhT2JqZWN0Lmhvcml6b250YWwpIHtcbiAgICAgICAgcmVtYWluaW5nQ2VsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgYC5wbGF5ZXItYm9hcmQgW2RhdGEtcm93PScke3RhcmdldENlbGxSb3d9J11bZGF0YS1jb2x1bW49JyR7XG4gICAgICAgICAgICB0YXJnZXRDZWxsQ29sdW1uICsgaVxuICAgICAgICAgIH0nXWBcbiAgICAgICAgKTtcbiAgICAgICAgcmVtYWluaW5nQ2VsbC5jbGFzc0xpc3QuYWRkKFwiaG9yaXpvbnRhbFwiKTtcbiAgICAgICAgY29vcmRpbmF0ZXNBcnJheS5wdXNoKFt0YXJnZXRDZWxsUm93LCB0YXJnZXRDZWxsQ29sdW1uICsgaV0pO1xuICAgICAgfSBlbHNlIGlmIChkYXRhT2JqZWN0LnZlcnRpY2FsKSB7XG4gICAgICAgIHJlbWFpbmluZ0NlbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgIGAucGxheWVyLWJvYXJkIFtkYXRhLXJvdz0nJHtcbiAgICAgICAgICAgIHRhcmdldENlbGxSb3cgKyBpXG4gICAgICAgICAgfSddW2RhdGEtY29sdW1uPScke3RhcmdldENlbGxDb2x1bW59J11gXG4gICAgICAgICk7XG4gICAgICAgIHJlbWFpbmluZ0NlbGwuY2xhc3NMaXN0LmFkZChcInZlcnRpY2FsXCIpO1xuICAgICAgICBjb29yZGluYXRlc0FycmF5LnB1c2goW3RhcmdldENlbGxSb3cgKyBpLCB0YXJnZXRDZWxsQ29sdW1uXSk7XG4gICAgICB9XG4gICAgICByZW1haW5pbmdDZWxsLmNsYXNzTGlzdC5hZGQoXCJjb250YWlucy1zaGlwLWltYWdlXCIpO1xuICAgICAgcmVtYWluaW5nQ2VsbC5jbGFzc0xpc3QuYWRkKFwic2hpcC1pbWFnZVwiKTtcbiAgICAgIHJlbWFpbmluZ0NlbGwuY2xhc3NMaXN0LmFkZChgc2hpcC1pbWFnZS0ke2xlbmd0aH1gKTtcbiAgICAgIHJlbWFpbmluZ0NlbGwuY2xhc3NMaXN0LmFkZChgc2hpcC1pbWFnZS0ke2xlbmd0aH0tJHtpICsgMX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvb3JkaW5hdGVzQXJyYXk7XG4gIH07XG4gIGNvbnN0IGRpc2FibGVJbWFnZUJ1dHRvbkludGVyYWN0aW9ucyA9IChkYXRhT2JqZWN0KSA9PiB7XG4gICAgY29uc3QgSUQgPSBkYXRhT2JqZWN0LmVsZW1lbnRJRDtcbiAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtJRH1gKTtcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gaW1hZ2VFbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcihcImJ1dHRvblwiKTtcbiAgICBpbWFnZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIsIGZhbHNlKTtcbiAgICBpbWFnZUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImRpc2FibGVkLWltYWdlXCIpO1xuICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICB9O1xuICBjb25zdCBpbnNlcnREcmFnZ2VkSW1hZ2UgPSAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHRhcmdldENlbGwgPSBldmVudC50YXJnZXQ7XG4gICAgaWYgKEFycmF5LmZyb20odGFyZ2V0Q2VsbC5jbGFzc0xpc3QpLmluY2x1ZGVzKFwiY29udGFpbnMtc2hpcC1pbWFnZVwiKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBkYXRhU3RyaW5nID0gZXZlbnQuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJpbWFnZVwiKTtcbiAgICBjb25zdCBkYXRhT2JqZWN0ID0gSlNPTi5wYXJzZShkYXRhU3RyaW5nKTtcbiAgICBpZiAoIWlzVmFsaWRHYW1lYm9hcmRDZWxsKHRhcmdldENlbGwsIGRhdGFPYmplY3QpKSB7XG4gICAgICAvLyBwcm9iYWJseSBtYWtlIHNvbWUgRE9NIGVycm9yIG1lc3NhZ2UgYXBwZWFyXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHNoaXBDb29yZGluYXRlcyA9IGFkZFNoaXBUb0RPTSh0YXJnZXRDZWxsLCBkYXRhT2JqZWN0KTtcbiAgICBHYW1lTG9vcC5nZXRQbGF5ZXJzKClbMF0uYWRkU2hpcFRvR2FtZWJvYXJkKFxuICAgICAgTnVtYmVyKGRhdGFPYmplY3Quc2hpcExlbmd0aCksXG4gICAgICBzaGlwQ29vcmRpbmF0ZXNcbiAgICApO1xuICAgIGRpc2FibGVJbWFnZUJ1dHRvbkludGVyYWN0aW9ucyhkYXRhT2JqZWN0KTtcbiAgICB0YXJnZXRDZWxsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkcm9wXCIsIGluc2VydERyYWdnZWRJbWFnZSk7XG4gIH07XG4gIGNvbnN0IHJvdGF0ZVNoaXBJbWFnZSA9IChpbWFnZSkgPT4ge1xuICAgIGNvbnN0IGltYWdlQ2xhc3NlcyA9IEFycmF5LmZyb20oaW1hZ2UuY2xhc3NMaXN0KTtcbiAgICBpZiAoaW1hZ2VDbGFzc2VzLmluY2x1ZGVzKFwiaG9yaXpvbnRhbFwiKSkge1xuICAgICAgaW1hZ2UuY2xhc3NMaXN0LnJlbW92ZShcImhvcml6b250YWxcIik7XG4gICAgICBpbWFnZS5jbGFzc0xpc3QuYWRkKFwidmVydGljYWxcIik7XG4gICAgfSBlbHNlIGlmIChpbWFnZUNsYXNzZXMuaW5jbHVkZXMoXCJ2ZXJ0aWNhbFwiKSkge1xuICAgICAgaW1hZ2UuY2xhc3NMaXN0LnJlbW92ZShcInZlcnRpY2FsXCIpO1xuICAgICAgaW1hZ2UuY2xhc3NMaXN0LmFkZChcImhvcml6b250YWxcIik7XG4gICAgfVxuICB9O1xuICBjb25zdCByb3RhdGVQZXJMZW5ndGggPSAodGVtcERpdiwgY2xvbmVkSW1hZ2VFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgY2xvbmVkSW1hZ2VFbGVtZW50Q2xhc3NlcyA9IEFycmF5LmZyb20oY2xvbmVkSW1hZ2VFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgaWYgKGNsb25lZEltYWdlRWxlbWVudENsYXNzZXMuaW5jbHVkZXMoXCJob3Jpem9udGFsXCIpKSB7XG4gICAgICB0ZW1wRGl2LmNsYXNzTGlzdC5hZGQoXCJ0ZW1wLXJvdGF0ZS1ob3Jpem9udGFsXCIpO1xuICAgIH0gZWxzZSBpZiAoY2xvbmVkSW1hZ2VFbGVtZW50Q2xhc3Nlcy5pbmNsdWRlcyhcInZlcnRpY2FsXCIpKSB7XG4gICAgICB0ZW1wRGl2LmNsYXNzTGlzdC5hZGQoXCJ0ZW1wLXJvdGF0ZS12ZXJ0aWNhbFwiKTtcbiAgICAgIGlmIChjbG9uZWRJbWFnZUVsZW1lbnQuZGF0YXNldC5zaGlwTGVuZ3RoID09PSBcIjVcIikge1xuICAgICAgICB0ZW1wRGl2LmNsYXNzTGlzdC5hZGQoXCJ0ZW1wLXJvdGF0ZS12ZXJ0aWNhbC01XCIpO1xuICAgICAgfSBlbHNlIGlmIChjbG9uZWRJbWFnZUVsZW1lbnQuZGF0YXNldC5zaGlwTGVuZ3RoID09PSBcIjRcIikge1xuICAgICAgICB0ZW1wRGl2LmNsYXNzTGlzdC5hZGQoXCJ0ZW1wLXJvdGF0ZS12ZXJ0aWNhbC00XCIpO1xuICAgICAgfSBlbHNlIGlmIChjbG9uZWRJbWFnZUVsZW1lbnQuZGF0YXNldC5zaGlwTGVuZ3RoID09PSBcIjNcIikge1xuICAgICAgICB0ZW1wRGl2LmNsYXNzTGlzdC5hZGQoXCJ0ZW1wLXJvdGF0ZS12ZXJ0aWNhbC0zXCIpO1xuICAgICAgfSBlbHNlIGlmIChjbG9uZWRJbWFnZUVsZW1lbnQuZGF0YXNldC5zaGlwTGVuZ3RoID09PSBcIjJcIikge1xuICAgICAgICB0ZW1wRGl2LmNsYXNzTGlzdC5hZGQoXCJ0ZW1wLXJvdGF0ZS12ZXJ0aWNhbC0yXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3Qgcm90YXRlRHJhZ2dlZEltYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgY29uc3QgaW1hZ2VFbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgIGNvbnN0IGNsb25lZEltYWdlRWxlbWVudCA9IGltYWdlRWxlbWVudC5jbG9uZU5vZGUoKTtcbiAgICBjb25zdCB0ZW1wRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICB0ZW1wRGl2LmNsYXNzTGlzdC5hZGQoXCJ0ZW1wLXJvdGF0ZVwiKTtcbiAgICByb3RhdGVQZXJMZW5ndGgodGVtcERpdiwgY2xvbmVkSW1hZ2VFbGVtZW50KTtcbiAgICB0ZW1wRGl2LmFwcGVuZENoaWxkKGNsb25lZEltYWdlRWxlbWVudCk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0ZW1wRGl2KTtcbiAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKHRlbXBEaXYsIDAsIDApO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0ZW1wRGl2KTtcbiAgICB9LCAwKTtcbiAgfTtcbiAgY29uc3QgYWRkQXR0YWNrUmVzdWx0RE9NID0gKHBsYXllclR5cGUsIGF0dGFja1Jlc3VsdHMsIGNvb3JkaW5hdGVzKSA9PiB7XG4gICAgY29uc3QgY2VsbFJvdyA9IGNvb3JkaW5hdGVzWzBdO1xuICAgIGNvbnN0IGNlbGxDb2x1bW4gPSBjb29yZGluYXRlc1sxXTtcbiAgICBjb25zb2xlLmxvZyhwbGF5ZXJUeXBlKTtcbiAgICBjb25zdCBnYW1lYm9hcmRET00gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtwbGF5ZXJUeXBlfS1ib2FyZGApO1xuICAgIGNvbnN0IHRhcmdldENlbGwgPSBnYW1lYm9hcmRET00ucXVlcnlTZWxlY3RvcihcbiAgICAgIGBbZGF0YS1yb3c9JyR7Y2VsbFJvd30nXVtkYXRhLWNvbHVtbj0nJHtjZWxsQ29sdW1ufSddYFxuICAgICk7XG4gICAgY29uc3QgYXR0YWNrUmVzdWx0c0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGF0dGFja1Jlc3VsdHNFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhdHRhY2stcmVzdWx0c1wiKTtcbiAgICB0YXJnZXRDZWxsLmFwcGVuZENoaWxkKGF0dGFja1Jlc3VsdHNFbGVtZW50KTtcbiAgICBpZiAoYXR0YWNrUmVzdWx0cyA9PT0gXCJoaXRcIikge1xuICAgICAgYXR0YWNrUmVzdWx0c0VsZW1lbnQuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi4vZGlzdC9yZWRfWC5wbmdcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF0dGFja1Jlc3VsdHNFbGVtZW50LnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4uL2Rpc3Qvd2hpdGVfTy5wbmdcIik7XG4gICAgfVxuICB9O1xuICByZXR1cm4ge1xuICAgIGluaXRpYWxpemVCb2FyZERPTSxcbiAgICBpbnNlcnREcmFnZ2VkSW1hZ2UsXG4gICAgcm90YXRlU2hpcEltYWdlLFxuICAgIHJvdGF0ZURyYWdnZWRJbWFnZSxcbiAgICBnZXREcmFnZ2VkSW1hZ2UsXG4gICAgZHJhZ092ZXIsXG4gICAgYWRkQXR0YWNrUmVzdWx0RE9NLFxuICB9O1xufSkoKTtcblxuZXhwb3J0IHsgRE9NQ29udHJvbGxlciB9O1xuIiwiaW1wb3J0IHsgU2hpcCB9IGZyb20gXCIuL3NoaXBcIjtcbmltcG9ydCB7IEdhbWVib2FyZCB9IGZyb20gXCIuL2dhbWVib2FyZFwiO1xuaW1wb3J0IHsgR2FtZUxvb3AgfSBmcm9tIFwiLi9nYW1lbG9vcFwiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlciB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyXCI7XG5cbmNvbnN0IFBsYXllciA9IChwbGF5ZXJUeXBlKSA9PiB7XG4gIGNvbnN0IGRldGVybWluZVBsYXllclR5cGUgPSAoKSA9PiB7XG4gICAgaWYgKHBsYXllclR5cGUgPT09IFwiaHVtYW5cIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAocGxheWVyVHlwZSA9PT0gXCJjb21wdXRlclwiKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGNvbXB1dGVyUGxheWVyID0gZGV0ZXJtaW5lUGxheWVyVHlwZSgpO1xuICBjb25zdCBwbGF5ZXJHYW1lYm9hcmQgPSBHYW1lYm9hcmQoKTtcbiAgbGV0IG9wcG9zaW5nUGxheWVyO1xuICBjb25zdCBpc0NvbXB1dGVyID0gKCkgPT4gY29tcHV0ZXJQbGF5ZXI7XG4gIGNvbnN0IGdldEdhbWVib2FyZCA9ICgpID0+IHBsYXllckdhbWVib2FyZDtcbiAgY29uc3QgZ2V0T3Bwb3NpbmdQbGF5ZXIgPSAoKSA9PiBvcHBvc2luZ1BsYXllcjtcbiAgY29uc3Qgc2V0T3Bwb3NpbmdQbGF5ZXIgPSAocGxheWVyKSA9PiB7XG4gICAgb3Bwb3NpbmdQbGF5ZXIgPSBwbGF5ZXI7XG4gIH07XG4gIGNvbnN0IGFkZFNoaXBUb0dhbWVib2FyZCA9IChzaGlwTGVuZ3RoLCBjb29yZGluYXRlcykgPT4ge1xuICAgIGNvbnN0IHNoaXAgPSBTaGlwKHNoaXBMZW5ndGgpO1xuICAgIHBsYXllckdhbWVib2FyZC5wbGFjZVNoaXAoc2hpcCwgY29vcmRpbmF0ZXMpO1xuICB9O1xuICBjb25zdCBzZW5kQXR0YWNrID0gKGNvb3JkaW5hdGVzKSA9PiB7XG4gICAgY29uc3Qgb3Bwb3NpbmdQbGF5ZXJHYW1lYm9hcmQgPSBvcHBvc2luZ1BsYXllci5nZXRHYW1lYm9hcmQoKTtcbiAgICBjb25zdCBhdHRhY2tSZXN1bHRzID0gb3Bwb3NpbmdQbGF5ZXIucmVjZWl2ZUF0dGFjayhjb29yZGluYXRlcyk7XG4gICAgaWYgKGF0dGFja1Jlc3VsdHMgPT09IFwiaGl0XCIpIHtcbiAgICAgIHBsYXllckdhbWVib2FyZC5hZGRTZW50SGl0U2hvdChjb29yZGluYXRlcyk7XG4gICAgICBpZiAoIWlzQ29tcHV0ZXIoKSkge1xuICAgICAgICBET01Db250cm9sbGVyLmFkZEF0dGFja1Jlc3VsdERPTShcbiAgICAgICAgICBcIm9wcG9uZW50XCIsXG4gICAgICAgICAgYXR0YWNrUmVzdWx0cyxcbiAgICAgICAgICBjb29yZGluYXRlc1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChpc0NvbXB1dGVyKCkpIHtcbiAgICAgICAgRE9NQ29udHJvbGxlci5hZGRBdHRhY2tSZXN1bHRET00oXCJwbGF5ZXJcIiwgYXR0YWNrUmVzdWx0cywgY29vcmRpbmF0ZXMpO1xuICAgICAgfVxuICAgICAgaWYgKG9wcG9zaW5nUGxheWVyR2FtZWJvYXJkLmlzQWxsU2hpcHNTdW5rKCkpIHtcbiAgICAgICAgR2FtZUxvb3AuZW5kR2FtZShvcHBvc2luZ1BsYXllcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGF0dGFja1Jlc3VsdHMgPT09IFwibWlzc1wiKSB7XG4gICAgICBwbGF5ZXJHYW1lYm9hcmQuYWRkU2VudE1pc3NlZFNob3QoY29vcmRpbmF0ZXMpO1xuICAgICAgaWYgKCFpc0NvbXB1dGVyKCkpIHtcbiAgICAgICAgRE9NQ29udHJvbGxlci5hZGRBdHRhY2tSZXN1bHRET00oXG4gICAgICAgICAgXCJvcHBvbmVudFwiLFxuICAgICAgICAgIGF0dGFja1Jlc3VsdHMsXG4gICAgICAgICAgY29vcmRpbmF0ZXNcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNDb21wdXRlcigpKSB7XG4gICAgICAgIERPTUNvbnRyb2xsZXIuYWRkQXR0YWNrUmVzdWx0RE9NKFwicGxheWVyXCIsIGF0dGFja1Jlc3VsdHMsIGNvb3JkaW5hdGVzKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wcG9zaW5nUGxheWVyLmlzQ29tcHV0ZXIoKSkge1xuICAgICAgb3Bwb3NpbmdQbGF5ZXIuc2VuZENvbXB1dGVyQXR0YWNrKCk7XG4gICAgfVxuICB9O1xuICBjb25zdCBpbml0aWFsaXplQ29tcHV0ZXJHYW1lYm9hcmQgPSAoKSA9PiB7XG4gICAgaWYgKCFjb21wdXRlclBsYXllcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBsZW5ndGhzT2ZTaGlwcyA9IFs1LCA0LCAzLCAzLCAyXTtcbiAgICBmb3IgKGNvbnN0IHNoaXBMZW5ndGggb2YgbGVuZ3Roc09mU2hpcHMpIHtcbiAgICAgIGNvbnN0IHNoaXBDb29yZGluYXRlcyA9IGdlbmVyYXRlQ29tcHV0ZXJTaGlwQ29vcmRpbmF0ZXMoc2hpcExlbmd0aCk7XG4gICAgICBhZGRTaGlwVG9HYW1lYm9hcmQoc2hpcExlbmd0aCwgc2hpcENvb3JkaW5hdGVzKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHNlbmRDb21wdXRlckF0dGFjayA9ICgpID0+IHtcbiAgICBpZiAoIWNvbXB1dGVyUGxheWVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGF0dGFja0Nvb3JkaW5hdGVzID0gZ2VuZXJhdGVBdHRhY2tDb29yZGluYXRlcygpO1xuICAgIHNlbmRBdHRhY2soYXR0YWNrQ29vcmRpbmF0ZXMpO1xuICB9O1xuICBjb25zdCByZWNlaXZlQXR0YWNrID0gKGNvb3JkaW5hdGVzKSA9PiB7XG4gICAgY29uc3QgYXR0YWNrUmVzdWx0cyA9IHBsYXllckdhbWVib2FyZC5yZWNlaXZlQXR0YWNrKGNvb3JkaW5hdGVzKTtcbiAgICByZXR1cm4gYXR0YWNrUmVzdWx0cztcbiAgfTtcbiAgY29uc3QgZ2VuZXJhdGVDb21wdXRlclNoaXBDb29yZGluYXRlcyA9IChzaGlwTGVuZ3RoKSA9PiB7XG4gICAgbGV0IGxpc3RPZkNvb3JkaW5hdGVzID0gW107XG4gICAgZG8ge1xuICAgICAgbGlzdE9mQ29vcmRpbmF0ZXMgPSBbXTtcbiAgICAgIGNvbnN0IHN0YXJ0aW5nQ29vcmRpbmF0ZXMgPSBnZW5lcmF0ZVN0YXJ0aW5nQ29vcmRpbmF0ZXMoKTtcbiAgICAgIGNvbnN0IG5vblN0YXJ0aW5nQ29vcmRpbmF0ZXMgPSBnZW5lcmF0ZU5vblN0YXJ0aW5nQ29vcmRpbmF0ZXMoXG4gICAgICAgIHN0YXJ0aW5nQ29vcmRpbmF0ZXMsXG4gICAgICAgIHNoaXBMZW5ndGhcbiAgICAgICk7XG4gICAgICBsaXN0T2ZDb29yZGluYXRlcy5wdXNoKHN0YXJ0aW5nQ29vcmRpbmF0ZXMpO1xuICAgICAgbGlzdE9mQ29vcmRpbmF0ZXMgPSBsaXN0T2ZDb29yZGluYXRlcy5jb25jYXQobm9uU3RhcnRpbmdDb29yZGluYXRlcyk7XG4gICAgfSB3aGlsZSAobGlzdE9mQ29vcmRpbmF0ZXMubGVuZ3RoIDwgc2hpcExlbmd0aCk7XG4gICAgcmV0dXJuIGxpc3RPZkNvb3JkaW5hdGVzO1xuICB9O1xuICBjb25zdCBnZW5lcmF0ZVN0YXJ0aW5nQ29vcmRpbmF0ZXMgPSAoKSA9PiB7XG4gICAgY29uc3Qgc3RhcnRpbmdDb29yZGluYXRlcyA9IFt1bmRlZmluZWQsIHVuZGVmaW5lZF07XG4gICAgZG8ge1xuICAgICAgc3RhcnRpbmdDb29yZGluYXRlc1swXSA9IGdlbmVyYXRlUmFuZG9tQ29vcmRpbmF0ZSgpO1xuICAgICAgc3RhcnRpbmdDb29yZGluYXRlc1sxXSA9IGdlbmVyYXRlUmFuZG9tQ29vcmRpbmF0ZSgpO1xuICAgIH0gd2hpbGUgKHBsYXllckdhbWVib2FyZC5nZXRDb29yZGluYXRlcyhzdGFydGluZ0Nvb3JkaW5hdGVzKSAhPT0gdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gc3RhcnRpbmdDb29yZGluYXRlcztcbiAgfTtcbiAgY29uc3QgZ2VuZXJhdGVOb25TdGFydGluZ0Nvb3JkaW5hdGVzID0gKHN0YXJ0aW5nQ29vcmRpbmF0ZXMsIHNoaXBMZW5ndGgpID0+IHtcbiAgICBjb25zdCBwb3NzaWJsZUNvb3JkaW5hdGVzID0gW107XG4gICAgaWYgKGNoZWNrSWZWYWxpZEVtcHR5Q29vcmRpbmF0ZXMoc3RhcnRpbmdDb29yZGluYXRlcywgc2hpcExlbmd0aCwgXCJ1cFwiKSkge1xuICAgICAgY29uc3QgdXBDb29yZGluYXRlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzaGlwTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdXBDb29yZGluYXRlcy5wdXNoKFtcbiAgICAgICAgICBzdGFydGluZ0Nvb3JkaW5hdGVzWzBdIC0gaSxcbiAgICAgICAgICBzdGFydGluZ0Nvb3JkaW5hdGVzWzFdLFxuICAgICAgICBdKTtcbiAgICAgIH1cbiAgICAgIHBvc3NpYmxlQ29vcmRpbmF0ZXMucHVzaCh1cENvb3JkaW5hdGVzKTtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgY2hlY2tJZlZhbGlkRW1wdHlDb29yZGluYXRlcyhzdGFydGluZ0Nvb3JkaW5hdGVzLCBzaGlwTGVuZ3RoLCBcInJpZ2h0XCIpXG4gICAgKSB7XG4gICAgICBjb25zdCByaWdodENvb3JkaW5hdGVzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNoaXBMZW5ndGg7IGkrKykge1xuICAgICAgICByaWdodENvb3JkaW5hdGVzLnB1c2goW1xuICAgICAgICAgIHN0YXJ0aW5nQ29vcmRpbmF0ZXNbMF0sXG4gICAgICAgICAgc3RhcnRpbmdDb29yZGluYXRlc1sxXSArIGksXG4gICAgICAgIF0pO1xuICAgICAgfVxuICAgICAgcG9zc2libGVDb29yZGluYXRlcy5wdXNoKHJpZ2h0Q29vcmRpbmF0ZXMpO1xuICAgIH1cbiAgICBpZiAoY2hlY2tJZlZhbGlkRW1wdHlDb29yZGluYXRlcyhzdGFydGluZ0Nvb3JkaW5hdGVzLCBzaGlwTGVuZ3RoLCBcImRvd25cIikpIHtcbiAgICAgIGNvbnN0IGRvd25Db29yZGluYXRlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzaGlwTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZG93bkNvb3JkaW5hdGVzLnB1c2goW1xuICAgICAgICAgIHN0YXJ0aW5nQ29vcmRpbmF0ZXNbMF0gKyBpLFxuICAgICAgICAgIHN0YXJ0aW5nQ29vcmRpbmF0ZXNbMV0sXG4gICAgICAgIF0pO1xuICAgICAgfVxuICAgICAgcG9zc2libGVDb29yZGluYXRlcy5wdXNoKGRvd25Db29yZGluYXRlcyk7XG4gICAgfVxuICAgIGlmIChjaGVja0lmVmFsaWRFbXB0eUNvb3JkaW5hdGVzKHN0YXJ0aW5nQ29vcmRpbmF0ZXMsIHNoaXBMZW5ndGgsIFwibGVmdFwiKSkge1xuICAgICAgY29uc3QgbGVmdENvb3JkaW5hdGVzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHNoaXBMZW5ndGg7IGkrKykge1xuICAgICAgICBsZWZ0Q29vcmRpbmF0ZXMucHVzaChbXG4gICAgICAgICAgc3RhcnRpbmdDb29yZGluYXRlc1swXSxcbiAgICAgICAgICBzdGFydGluZ0Nvb3JkaW5hdGVzWzFdIC0gaSxcbiAgICAgICAgXSk7XG4gICAgICB9XG4gICAgICBwb3NzaWJsZUNvb3JkaW5hdGVzLnB1c2gobGVmdENvb3JkaW5hdGVzKTtcbiAgICB9XG4gICAgaWYgKHBvc3NpYmxlQ29vcmRpbmF0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gcG9zc2libGVDb29yZGluYXRlcztcbiAgICB9XG4gICAgY29uc3QgcmFuZG9tSW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZUNvb3JkaW5hdGVzLmxlbmd0aCk7XG4gICAgcmV0dXJuIHBvc3NpYmxlQ29vcmRpbmF0ZXNbcmFuZG9tSW5kZXhdO1xuICB9O1xuICBjb25zdCBnZW5lcmF0ZVJhbmRvbUNvb3JkaW5hdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgQk9BUkRBWEVTTEVOR1RIID0gMTA7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIEJPQVJEQVhFU0xFTkdUSCk7XG4gIH07XG4gIGNvbnN0IGNoZWNrSWZQcmV2aW91c2x5QXR0YWNrZWQgPSAoXG4gICAgb3Bwb3NpbmdQbGF5ZXJSZWNlaXZlZFNob3RzLFxuICAgIGF0dGFja0Nvb3JkaW5hdGVzXG4gICkgPT5cbiAgICBvcHBvc2luZ1BsYXllclJlY2VpdmVkU2hvdHMuc29tZShcbiAgICAgIChyZWNlaXZlZFNob3QpID0+XG4gICAgICAgIHJlY2VpdmVkU2hvdFswXSA9PT0gYXR0YWNrQ29vcmRpbmF0ZXNbMF0gJiZcbiAgICAgICAgcmVjZWl2ZWRTaG90WzFdID09PSBhdHRhY2tDb29yZGluYXRlc1sxXVxuICAgICk7XG4gIGNvbnN0IGdlbmVyYXRlQXR0YWNrQ29vcmRpbmF0ZXMgPSAoKSA9PiB7XG4gICAgY29uc3QgcmVjZWl2ZWRNaXNzZWRTaG90cyA9IG9wcG9zaW5nUGxheWVyXG4gICAgICAuZ2V0R2FtZWJvYXJkKClcbiAgICAgIC5nZXRSZWNlaXZlZE1pc3NlZFNob3RzKCk7XG4gICAgY29uc3QgcmVjZWl2ZWRIaXRTaG90cyA9IG9wcG9zaW5nUGxheWVyXG4gICAgICAuZ2V0R2FtZWJvYXJkKClcbiAgICAgIC5nZXRSZWNlaXZlZEhpdFNob3RzKCk7XG4gICAgY29uc3QgYXR0YWNrQ29vcmRpbmF0ZXMgPSBbdW5kZWZpbmVkLCB1bmRlZmluZWRdO1xuICAgIGRvIHtcbiAgICAgIGF0dGFja0Nvb3JkaW5hdGVzWzBdID0gZ2VuZXJhdGVSYW5kb21Db29yZGluYXRlKCk7XG4gICAgICBhdHRhY2tDb29yZGluYXRlc1sxXSA9IGdlbmVyYXRlUmFuZG9tQ29vcmRpbmF0ZSgpO1xuICAgIH0gd2hpbGUgKFxuICAgICAgY2hlY2tJZlByZXZpb3VzbHlBdHRhY2tlZChyZWNlaXZlZE1pc3NlZFNob3RzLCBhdHRhY2tDb29yZGluYXRlcykgfHxcbiAgICAgIGNoZWNrSWZQcmV2aW91c2x5QXR0YWNrZWQocmVjZWl2ZWRIaXRTaG90cywgYXR0YWNrQ29vcmRpbmF0ZXMpXG4gICAgKTtcbiAgICByZXR1cm4gYXR0YWNrQ29vcmRpbmF0ZXM7XG4gIH07XG4gIGNvbnN0IGNoZWNrSWZWYWxpZEVtcHR5Q29vcmRpbmF0ZXMgPSAoXG4gICAgc3RhcnRpbmdDb29yZGluYXRlcyxcbiAgICBzaGlwTGVuZ3RoLFxuICAgIGRpcmVjdGlvblxuICApID0+IHtcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgY2FzZSBcInVwXCI6XG4gICAgICAgIGlmIChzdGFydGluZ0Nvb3JkaW5hdGVzWzBdIC0gKHNoaXBMZW5ndGggLSAxKSA8IDApIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzaGlwTGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBwbGF5ZXJHYW1lYm9hcmQuZ2V0Q29vcmRpbmF0ZXMoW1xuICAgICAgICAgICAgICBzdGFydGluZ0Nvb3JkaW5hdGVzWzBdIC0gaSxcbiAgICAgICAgICAgICAgc3RhcnRpbmdDb29yZGluYXRlc1sxXSxcbiAgICAgICAgICAgIF0pICE9PSB1bmRlZmluZWRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgICBpZiAoc3RhcnRpbmdDb29yZGluYXRlc1sxXSArIChzaGlwTGVuZ3RoIC0gMSkgPiA5KSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcGxheWVyR2FtZWJvYXJkLmdldENvb3JkaW5hdGVzKFtcbiAgICAgICAgICAgICAgc3RhcnRpbmdDb29yZGluYXRlc1swXSxcbiAgICAgICAgICAgICAgc3RhcnRpbmdDb29yZGluYXRlc1sxXSArIGksXG4gICAgICAgICAgICBdKSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICBjYXNlIFwiZG93blwiOlxuICAgICAgICBpZiAoc3RhcnRpbmdDb29yZGluYXRlc1swXSArIChzaGlwTGVuZ3RoIC0gMSkgPiA5KSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcGxheWVyR2FtZWJvYXJkLmdldENvb3JkaW5hdGVzKFtcbiAgICAgICAgICAgICAgc3RhcnRpbmdDb29yZGluYXRlc1swXSArIGksXG4gICAgICAgICAgICAgIHN0YXJ0aW5nQ29vcmRpbmF0ZXNbMV0sXG4gICAgICAgICAgICBdKSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICBpZiAoc3RhcnRpbmdDb29yZGluYXRlc1sxXSAtIChzaGlwTGVuZ3RoIC0gMSkgPCAwKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgc2hpcExlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcGxheWVyR2FtZWJvYXJkLmdldENvb3JkaW5hdGVzKFtcbiAgICAgICAgICAgICAgc3RhcnRpbmdDb29yZGluYXRlc1swXSxcbiAgICAgICAgICAgICAgc3RhcnRpbmdDb29yZGluYXRlc1sxXSAtIGksXG4gICAgICAgICAgICBdKSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH07XG4gIHJldHVybiB7XG4gICAgaXNDb21wdXRlcixcbiAgICBnZXRHYW1lYm9hcmQsXG4gICAgZ2V0T3Bwb3NpbmdQbGF5ZXIsXG4gICAgc2V0T3Bwb3NpbmdQbGF5ZXIsXG4gICAgYWRkU2hpcFRvR2FtZWJvYXJkLFxuICAgIHNlbmRBdHRhY2ssXG4gICAgaW5pdGlhbGl6ZUNvbXB1dGVyR2FtZWJvYXJkLFxuICAgIHNlbmRDb21wdXRlckF0dGFjayxcbiAgICByZWNlaXZlQXR0YWNrLFxuICAgIGNoZWNrSWZWYWxpZEVtcHR5Q29vcmRpbmF0ZXMsXG4gIH07XG59O1xuXG5leHBvcnQgeyBQbGF5ZXIgfTtcbiIsImNvbnN0IEdhbWVib2FyZCA9ICgpID0+IHtcbiAgY29uc3QgY3JlYXRlQm9hcmQgPSAoKSA9PiB7XG4gICAgY29uc3QgYm9hcmQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwOyBpKyspIHtcbiAgICAgIGJvYXJkLnB1c2goW10pO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAxMDsgaisrKSB7XG4gICAgICAgIGJvYXJkW2ldLnB1c2godW5kZWZpbmVkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGJvYXJkO1xuICB9O1xuICBjb25zdCBib2FyZCA9IGNyZWF0ZUJvYXJkKCk7XG4gIGNvbnN0IHBsYWNlZFNoaXBzID0gW107XG4gIGNvbnN0IHJlY2VpdmVkTWlzc2VkU2hvdHMgPSBbXTtcbiAgY29uc3QgcmVjZWl2ZWRIaXRTaG90cyA9IFtdO1xuICBjb25zdCBzZW50TWlzc2VkU2hvdHMgPSBbXTtcbiAgY29uc3Qgc2VudEhpdFNob3RzID0gW107XG4gIGxldCBhbGxTaGlwc1N1bmsgPSBmYWxzZTtcbiAgY29uc3QgZ2V0Q29vcmRpbmF0ZXMgPSAoY29vcmRpbmF0ZXMpID0+IGJvYXJkW2Nvb3JkaW5hdGVzWzBdXVtjb29yZGluYXRlc1sxXV07XG4gIGNvbnN0IGdldFBsYWNlZFNoaXBzID0gKCkgPT4gcGxhY2VkU2hpcHM7XG4gIGNvbnN0IGdldFJlY2VpdmVkTWlzc2VkU2hvdHMgPSAoKSA9PiByZWNlaXZlZE1pc3NlZFNob3RzO1xuICBjb25zdCBnZXRSZWNlaXZlZEhpdFNob3RzID0gKCkgPT4gcmVjZWl2ZWRIaXRTaG90cztcbiAgY29uc3QgZ2V0U2VudE1pc3NlZFNob3RzID0gKCkgPT4gc2VudE1pc3NlZFNob3RzO1xuICBjb25zdCBnZXRTZW50SGl0U2hvdHMgPSAoKSA9PiBzZW50SGl0U2hvdHM7XG4gIGNvbnN0IGlzQWxsU2hpcHNTdW5rID0gKCkgPT4gYWxsU2hpcHNTdW5rO1xuICBjb25zdCBwbGFjZVNoaXAgPSAoc2hpcCwgY29vcmRpbmF0ZXNMaXN0KSA9PiB7XG4gICAgZm9yIChjb25zdCBjb29yZGluYXRlcyBvZiBjb29yZGluYXRlc0xpc3QpIHtcbiAgICAgIGJvYXJkW2Nvb3JkaW5hdGVzWzBdXVtjb29yZGluYXRlc1sxXV0gPSBzaGlwO1xuICAgIH1cbiAgICBwbGFjZWRTaGlwcy5wdXNoKHNoaXApO1xuICB9O1xuICBjb25zdCBjaGVja0FsbFNoaXBzU3VuayA9ICgpID0+IHtcbiAgICBpZiAocGxhY2VkU2hpcHMuZXZlcnkoKHNoaXApID0+IHNoaXAuaXNTdW5rKCkpKSB7XG4gICAgICBhbGxTaGlwc1N1bmsgPSB0cnVlO1xuICAgIH1cbiAgfTtcbiAgY29uc3QgcmVjZWl2ZUF0dGFjayA9IChjb29yZGluYXRlcykgPT4ge1xuICAgIGNvbnN0IGVudGl0eUF0Q29vcmRpbmF0ZXMgPSBnZXRDb29yZGluYXRlcyhjb29yZGluYXRlcyk7XG4gICAgaWYgKGVudGl0eUF0Q29vcmRpbmF0ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZW50aXR5QXRDb29yZGluYXRlcy5oaXQoKTtcbiAgICAgIGNoZWNrQWxsU2hpcHNTdW5rKCk7XG4gICAgICByZWNlaXZlZEhpdFNob3RzLnB1c2goY29vcmRpbmF0ZXMpO1xuICAgICAgcmV0dXJuIFwiaGl0XCI7XG4gICAgfVxuICAgIHJlY2VpdmVkTWlzc2VkU2hvdHMucHVzaChjb29yZGluYXRlcyk7XG4gICAgcmV0dXJuIFwibWlzc1wiO1xuICB9O1xuICBjb25zdCBhZGRTZW50TWlzc2VkU2hvdCA9IChjb29yZGluYXRlcykgPT4ge1xuICAgIHNlbnRNaXNzZWRTaG90cy5wdXNoKGNvb3JkaW5hdGVzKTtcbiAgfTtcbiAgY29uc3QgYWRkU2VudEhpdFNob3QgPSAoY29vcmRpbmF0ZXMpID0+IHtcbiAgICBzZW50SGl0U2hvdHMucHVzaChjb29yZGluYXRlcyk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgZ2V0Q29vcmRpbmF0ZXMsXG4gICAgZ2V0UGxhY2VkU2hpcHMsXG4gICAgZ2V0UmVjZWl2ZWRNaXNzZWRTaG90cyxcbiAgICBnZXRSZWNlaXZlZEhpdFNob3RzLFxuICAgIGdldFNlbnRNaXNzZWRTaG90cyxcbiAgICBnZXRTZW50SGl0U2hvdHMsXG4gICAgaXNBbGxTaGlwc1N1bmssXG4gICAgcGxhY2VTaGlwLFxuICAgIHJlY2VpdmVBdHRhY2ssXG4gICAgYWRkU2VudE1pc3NlZFNob3QsXG4gICAgYWRkU2VudEhpdFNob3QsXG4gIH07XG59O1xuXG5leHBvcnQgeyBHYW1lYm9hcmQgfTtcbiIsImltcG9ydCB7IFNoaXAgfSBmcm9tIFwiLi9zaGlwXCI7XG5pbXBvcnQgeyBHYW1lYm9hcmQgfSBmcm9tIFwiLi9nYW1lYm9hcmRcIjtcbmltcG9ydCB7IFBsYXllciB9IGZyb20gXCIuL3BsYXllclwiO1xuXG5jb25zdCBHYW1lTG9vcCA9ICgoKSA9PiB7XG4gIGNvbnN0IHBsYXllcnMgPSBbXTtcbiAgbGV0IGluUHJvZ3Jlc3MgPSB0cnVlO1xuICBsZXQgd2lubmVyO1xuICBjb25zdCBnZXRQbGF5ZXJzID0gKCkgPT4gcGxheWVycztcbiAgY29uc3QgaXNJblByb2dyZXNzID0gKCkgPT4gaW5Qcm9ncmVzcztcbiAgY29uc3QgZ2V0V2lubmVyID0gKCkgPT4gd2lubmVyO1xuICBjb25zdCBzZXRXaW5uZXIgPSAobG9zZXJQbGF5ZXIpID0+IHtcbiAgICBjb25zdCB3aW5uZXJQbGF5ZXIgPSBsb3NlclBsYXllci5nZXRPcHBvc2luZ1BsYXllcigpO1xuICAgIHdpbm5lciA9IHdpbm5lclBsYXllcjtcbiAgfTtcbiAgY29uc3QgY3JlYXRlR2FtZSA9ICgpID0+IHtcbiAgICBjb25zdCBodW1hblBsYXllciA9IFBsYXllcihcImh1bWFuXCIpO1xuICAgIHBsYXllcnMucHVzaChodW1hblBsYXllcik7XG4gICAgY29uc3QgY29tcHV0ZXJQbGF5ZXIgPSBQbGF5ZXIoXCJjb21wdXRlclwiKTtcbiAgICBwbGF5ZXJzLnB1c2goY29tcHV0ZXJQbGF5ZXIpO1xuICAgIGh1bWFuUGxheWVyLnNldE9wcG9zaW5nUGxheWVyKGNvbXB1dGVyUGxheWVyKTtcbiAgICBjb21wdXRlclBsYXllci5zZXRPcHBvc2luZ1BsYXllcihodW1hblBsYXllcik7XG4gICAgY29tcHV0ZXJQbGF5ZXIuaW5pdGlhbGl6ZUNvbXB1dGVyR2FtZWJvYXJkKCk7XG4gIH07XG4gIGNvbnN0IGVuZEdhbWUgPSAobG9zZXJQbGF5ZXIpID0+IHtcbiAgICBpblByb2dyZXNzID0gZmFsc2U7XG4gICAgc2V0V2lubmVyKGxvc2VyUGxheWVyKTtcbiAgfTtcbiAgY29uc3QgcmVzZXRHYW1lID0gKCkgPT4ge1xuICAgIHBsYXllcnMubGVuZ3RoID0gMDtcbiAgICBpblByb2dyZXNzID0gdHJ1ZTtcbiAgICB3aW5uZXIgPSB1bmRlZmluZWQ7XG4gIH07XG4gIHJldHVybiB7XG4gICAgZ2V0UGxheWVycyxcbiAgICBpc0luUHJvZ3Jlc3MsXG4gICAgZ2V0V2lubmVyLFxuICAgIGNyZWF0ZUdhbWUsXG4gICAgZW5kR2FtZSxcbiAgICByZXNldEdhbWUsXG4gIH07XG59KSgpO1xuXG5leHBvcnQgeyBHYW1lTG9vcCB9O1xuIiwiaW1wb3J0IHsgRE9NQ29udHJvbGxlciB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyXCI7XG5cbmNvbnN0IEV2ZW50TGlzdGVuZXJDb250cm9sbGVyID0gKCgpID0+IHtcbiAgY29uc3Qgcm90YXRlU2hpcEltYWdlTGlzdGVuZXJzID0gKCkgPT4ge1xuICAgIGNvbnN0IHNoaXBQbGFjZW1lbnRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc2hpcC1wbGFjZW1lbnRcIik7XG4gICAgc2hpcFBsYWNlbWVudEVsZW1lbnRzLmZvckVhY2goKGdyb3VwKSA9PiB7XG4gICAgICBjb25zdCBpbWcgPSBncm91cC5jaGlsZHJlblswXTtcbiAgICAgIGNvbnN0IGJ0biA9IGdyb3VwLmNoaWxkcmVuWzJdO1xuICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIERPTUNvbnRyb2xsZXIucm90YXRlU2hpcEltYWdlKGltZyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgYWRkU2hpcFBsYWNlbWVudERyYWcgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2hpcEltYWdlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zaGlwLXBpZWNlXCIpKTtcbiAgICBzaGlwSW1hZ2VzLmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgIHNoaXAuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgRE9NQ29udHJvbGxlci5nZXREcmFnZ2VkSW1hZ2UoZXZlbnQpO1xuICAgICAgICBET01Db250cm9sbGVyLnJvdGF0ZURyYWdnZWRJbWFnZShldmVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICByb3RhdGVTaGlwSW1hZ2VMaXN0ZW5lcnMsXG4gICAgYWRkU2hpcFBsYWNlbWVudERyYWcsXG4gIH07XG59KSgpO1xuXG5leHBvcnQgeyBFdmVudExpc3RlbmVyQ29udHJvbGxlciB9O1xuIiwiaW1wb3J0IHsgR2FtZUxvb3AgfSBmcm9tIFwiLi9nYW1lbG9vcFwiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlciB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyXCI7XG5pbXBvcnQgeyBFdmVudExpc3RlbmVyQ29udHJvbGxlciB9IGZyb20gXCIuL2V2ZW50X2xpc3RlbmVyX2NvbnRyb2xsZXJcIjtcblxuR2FtZUxvb3AuY3JlYXRlR2FtZSgpO1xuXG5ET01Db250cm9sbGVyLmluaXRpYWxpemVCb2FyZERPTSgpO1xuXG5FdmVudExpc3RlbmVyQ29udHJvbGxlci5yb3RhdGVTaGlwSW1hZ2VMaXN0ZW5lcnMoKTtcblxuRXZlbnRMaXN0ZW5lckNvbnRyb2xsZXIuYWRkU2hpcFBsYWNlbWVudERyYWcoKTtcbiJdLCJuYW1lcyI6WyJET01Db250cm9sbGVyIiwiY3JlYXRlQm9hcmRDZWxscyIsImdhbWVib2FyZERPTSIsImNvbHVtbkxhYmVscyIsInJvd0xhYmVscyIsImkiLCJqIiwiaW52aXNpYmxlUGxhY2Vob2xkZXJFbGVtZW50IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwiYXBwZW5kQ2hpbGQiLCJjb2x1bW5MYWJlbEVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsInJvd0xhYmVsRWxlbWVudCIsIkFycmF5IiwiZnJvbSIsImluY2x1ZGVzIiwiY2VsbEVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJkcmFnT3ZlciIsImluc2VydERyYWdnZWRJbWFnZSIsImNvbnNvbGUiLCJsb2ciLCJjZWxsUm93IiwiTnVtYmVyIiwiZGF0YXNldCIsInJvdyIsImNlbGxDb2x1bW4iLCJjb2x1bW4iLCJHYW1lTG9vcCIsImdldFBsYXllcnMiLCJzZW5kQXR0YWNrIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXRDZWxsIiwidGFyZ2V0IiwiZGF0YVN0cmluZyIsImRhdGFUcmFuc2ZlciIsImdldERhdGEiLCJkYXRhT2JqZWN0IiwiSlNPTiIsInBhcnNlIiwiY2VsbENvb3JkaW5hdGVzIiwibGVuZ3RoIiwic2hpcExlbmd0aCIsImhvcml6b250YWwiLCJjaGVja0lmVmFsaWRFbXB0eUNvb3JkaW5hdGVzIiwidmVydGljYWwiLCJpc1ZhbGlkR2FtZWJvYXJkQ2VsbCIsInNoaXBDb29yZGluYXRlcyIsInRhcmdldENlbGxSb3ciLCJ0YXJnZXRDZWxsQ29sdW1uIiwiY29vcmRpbmF0ZXNBcnJheSIsInJlbWFpbmluZ0NlbGwiLCJxdWVyeVNlbGVjdG9yIiwicHVzaCIsImFkZFNoaXBUb0RPTSIsImFkZFNoaXBUb0dhbWVib2FyZCIsIklEIiwiZWxlbWVudElEIiwiaW1hZ2VFbGVtZW50IiwiYnV0dG9uRWxlbWVudCIsInBhcmVudE5vZGUiLCJkaXNhYmxlZCIsImRpc2FibGVJbWFnZUJ1dHRvbkludGVyYWN0aW9ucyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpbml0aWFsaXplQm9hcmRET00iLCJodW1hblBsYXllckdhbWVib2FyZERPTSIsIm9wcG9uZW50R2FtZWJvYXJkRE9NIiwicm90YXRlU2hpcEltYWdlIiwiaW1hZ2UiLCJpbWFnZUNsYXNzZXMiLCJyZW1vdmUiLCJyb3RhdGVEcmFnZ2VkSW1hZ2UiLCJjbG9uZWRJbWFnZUVsZW1lbnQiLCJjbG9uZU5vZGUiLCJ0ZW1wRGl2IiwiY2xvbmVkSW1hZ2VFbGVtZW50Q2xhc3NlcyIsInJvdGF0ZVBlckxlbmd0aCIsImJvZHkiLCJzZXREcmFnSW1hZ2UiLCJzZXRUaW1lb3V0IiwicmVtb3ZlQ2hpbGQiLCJnZXREcmFnZ2VkSW1hZ2UiLCJzcmMiLCJnZXRBdHRyaWJ1dGUiLCJzdHJpbmdpZnkiLCJzZXREYXRhIiwiYWRkQXR0YWNrUmVzdWx0RE9NIiwicGxheWVyVHlwZSIsImF0dGFja1Jlc3VsdHMiLCJjb29yZGluYXRlcyIsImF0dGFja1Jlc3VsdHNFbGVtZW50IiwiUGxheWVyIiwiY29tcHV0ZXJQbGF5ZXIiLCJwbGF5ZXJHYW1lYm9hcmQiLCJib2FyZCIsInVuZGVmaW5lZCIsImNyZWF0ZUJvYXJkIiwicGxhY2VkU2hpcHMiLCJyZWNlaXZlZE1pc3NlZFNob3RzIiwicmVjZWl2ZWRIaXRTaG90cyIsInNlbnRNaXNzZWRTaG90cyIsInNlbnRIaXRTaG90cyIsImFsbFNoaXBzU3VuayIsImdldENvb3JkaW5hdGVzIiwiZ2V0UGxhY2VkU2hpcHMiLCJnZXRSZWNlaXZlZE1pc3NlZFNob3RzIiwiZ2V0UmVjZWl2ZWRIaXRTaG90cyIsImdldFNlbnRNaXNzZWRTaG90cyIsImdldFNlbnRIaXRTaG90cyIsImlzQWxsU2hpcHNTdW5rIiwicGxhY2VTaGlwIiwic2hpcCIsImNvb3JkaW5hdGVzTGlzdCIsInJlY2VpdmVBdHRhY2siLCJlbnRpdHlBdENvb3JkaW5hdGVzIiwiaGl0IiwiZXZlcnkiLCJpc1N1bmsiLCJhZGRTZW50TWlzc2VkU2hvdCIsImFkZFNlbnRIaXRTaG90IiwiR2FtZWJvYXJkIiwib3Bwb3NpbmdQbGF5ZXIiLCJpc0NvbXB1dGVyIiwiZ2l2ZW5MZW5ndGgiLCJoaXRzIiwic3VuayIsImdldFNoaXBMZW5ndGgiLCJnZXRTaGlwSGl0cyIsIlNoaXAiLCJvcHBvc2luZ1BsYXllckdhbWVib2FyZCIsImdldEdhbWVib2FyZCIsImVuZEdhbWUiLCJzZW5kQ29tcHV0ZXJBdHRhY2siLCJnZW5lcmF0ZUNvbXB1dGVyU2hpcENvb3JkaW5hdGVzIiwibGlzdE9mQ29vcmRpbmF0ZXMiLCJzdGFydGluZ0Nvb3JkaW5hdGVzIiwiZ2VuZXJhdGVTdGFydGluZ0Nvb3JkaW5hdGVzIiwibm9uU3RhcnRpbmdDb29yZGluYXRlcyIsImdlbmVyYXRlTm9uU3RhcnRpbmdDb29yZGluYXRlcyIsImNvbmNhdCIsImdlbmVyYXRlUmFuZG9tQ29vcmRpbmF0ZSIsInBvc3NpYmxlQ29vcmRpbmF0ZXMiLCJ1cENvb3JkaW5hdGVzIiwicmlnaHRDb29yZGluYXRlcyIsImRvd25Db29yZGluYXRlcyIsImxlZnRDb29yZGluYXRlcyIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImNoZWNrSWZQcmV2aW91c2x5QXR0YWNrZWQiLCJvcHBvc2luZ1BsYXllclJlY2VpdmVkU2hvdHMiLCJhdHRhY2tDb29yZGluYXRlcyIsInNvbWUiLCJyZWNlaXZlZFNob3QiLCJkaXJlY3Rpb24iLCJnZXRPcHBvc2luZ1BsYXllciIsInNldE9wcG9zaW5nUGxheWVyIiwicGxheWVyIiwiaW5pdGlhbGl6ZUNvbXB1dGVyR2FtZWJvYXJkIiwibGVuZ3Roc09mU2hpcHMiLCJnZW5lcmF0ZUF0dGFja0Nvb3JkaW5hdGVzIiwicGxheWVycyIsIndpbm5lciIsImluUHJvZ3Jlc3MiLCJpc0luUHJvZ3Jlc3MiLCJnZXRXaW5uZXIiLCJjcmVhdGVHYW1lIiwiaHVtYW5QbGF5ZXIiLCJsb3NlclBsYXllciIsIndpbm5lclBsYXllciIsInNldFdpbm5lciIsInJlc2V0R2FtZSIsIkV2ZW50TGlzdGVuZXJDb250cm9sbGVyIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJncm91cCIsImltZyIsImNoaWxkcmVuIl0sInNvdXJjZVJvb3QiOiIifQ==