(()=>{"use strict";const e=(()=>{const e=t=>{t.preventDefault(),""!==t.dataTransfer.getData("image")&&(t.target.classList.add("ship-image-5"),t.target.classList.add("ship-image-5-3"),t.target.removeEventListener("drop",e))};return{getDraggedImage:e=>{e.dataTransfer.setData("image",e.target.src)},dragOver:()=>{event.preventDefault()},insertDraggedImage:e,rotateShipImage:e=>{const t=Array.from(e.classList);t.includes("horizontal")?(e.classList.remove("horizontal"),e.classList.add("vertical")):t.includes("vertical")&&(e.classList.remove("vertical"),e.classList.add("horizontal"))},rotateDraggedImage:e=>{const t=e.target.cloneNode(),a=document.createElement("div");a.classList.add("temp-rotate"),((e,t)=>{const a=Array.from(t.classList);a.includes("horizontal")?e.classList.add("temp-rotate-horizontal"):a.includes("vertical")&&(e.classList.add("temp-rotate-vertical"),"5"===t.dataset.shipLength?e.classList.add("temp-rotate-vertical-5"):"4"===t.dataset.shipLength?e.classList.add("temp-rotate-vertical-4"):"3"===t.dataset.shipLength?e.classList.add("temp-rotate-vertical-3"):"2"===t.dataset.shipLength&&e.classList.add("temp-rotate-vertical-2"))})(a,t),a.appendChild(t),document.body.appendChild(a),e.dataTransfer.setDragImage(a,0,0),setTimeout((()=>{document.body.removeChild(a)}),0)}}})(),t=(()=>{const t=t=>{const a=["A","B","C","D","E","F","G","H","I","J"],r=["1","2","3","4","5","6","7","8","9","10"];for(let s=-1;s<10;s++)for(let d=-1;d<10;d++)if(-1===s)if(-1===d){const e=document.createElement("div");e.classList.add("gameboard-label"),e.style.visibility="hidden",t.appendChild(e)}else{const e=document.createElement("div");e.classList.add("column-label"),e.textContent=a[d],t.appendChild(e)}else if(-1===d){const e=document.createElement("div");e.classList.add("row-label"),e.textContent=r[s],t.appendChild(e)}else{const a=document.createElement("div");a.setAttribute("dataRow",s),a.setAttribute("dataColumn",d),a.classList.add("gameboard-cell"),a.addEventListener("dragover",e.dragOver.bind(event)),a.addEventListener("drop",e.insertDraggedImage.bind(event)),t.appendChild(a)}};return{initializeBoardDOM:()=>{const e=document.querySelector(".player-board"),a=document.querySelector(".opponent-board");t(e),t(a)},rotateShipImageListeners:()=>{document.querySelectorAll(".ship-placement").forEach((t=>{const a=t.children[0];t.children[2].addEventListener("click",e.rotateShipImage.bind(event,a))}))},addShipPlacementDrag:()=>{Array.from(document.querySelectorAll(".ship-piece")).forEach((t=>{t.addEventListener("dragstart",(t=>{e.getDraggedImage(t),e.rotateDraggedImage(t)}))}))}}})();t.initializeBoardDOM(),t.rotateShipImageListeners(),t.addShipPlacementDrag()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQWN4QixTQUFTQyxjQUFjLE9BQzNDdUIsRUFBWUMsYUFBYSxVQUFXVCxHQUNwQ1EsRUFBWUMsYUFBYSxhQUFjUixHQUN2Q08sRUFBWTFDLFVBQVVDLElBQUksa0JBQzFCeUMsRUFBWUUsaUJBQ1YsV0FDQW5ELEVBQXdCYSxTQUFTdUMsS0FBS2xELFFBRXhDK0MsRUFBWUUsaUJBQ1YsT0FDQW5ELEVBQXdCQyxtQkFBbUJtRCxLQUFLbEQsUUFHbERvQyxFQUFhUCxZQUFZa0IsRUFDM0IsQ0FFSixFQTRCRixNQUFPLENBQ0xJLG1CQTNCeUIsS0FDekIsTUFBTUMsRUFBMEI3QixTQUFTOEIsY0FBYyxpQkFDakRDLEVBQXVCL0IsU0FBUzhCLGNBQWMsbUJBQ3BEbEIsRUFBaUJpQixHQUNqQmpCLEVBQWlCbUIsRUFBcUIsRUF3QnRDQyx5QkF0QitCLEtBQ0RoQyxTQUFTaUMsaUJBQWlCLG1CQUNsQ0MsU0FBU0MsSUFDN0IsTUFBTUMsRUFBTUQsRUFBS0UsU0FBUyxHQUNkRixFQUFLRSxTQUFTLEdBQ3RCWCxpQkFDRixRQUNBbkQsRUFBd0JjLGdCQUFnQnNDLEtBQUtsRCxNQUFPMkQsR0FDckQsR0FDRCxFQWNGRSxxQkFaMkIsS0FDUjlDLE1BQU1DLEtBQUtPLFNBQVNpQyxpQkFBaUIsZ0JBQzdDQyxTQUFTSyxJQUNsQkEsRUFBS2IsaUJBQWlCLGFBQWNqRCxJQUNsQ0YsRUFBd0JVLGdCQUFnQlIsR0FDeENGLEVBQXdCcUIsbUJBQW1CbkIsRUFBTSxHQUNqRCxHQUNGLEVBT0wsRUExRXFCLEdDQXRCa0MsRUFBY2lCLHFCQUVkakIsRUFBY3FCLDJCQUVkckIsRUFBYzJCLHNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2V2ZW50X2xpc3RlbmVyX2NvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL0RPTV9jb250cm9sbGVyLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBFdmVudExpc3RlbmVyQ29udHJvbGxlciA9ICgoKSA9PiB7XG4gIGNvbnN0IGdldERyYWdnZWRJbWFnZSA9IChldmVudCkgPT4ge1xuICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKFwiaW1hZ2VcIiwgZXZlbnQudGFyZ2V0LnNyYyk7XG4gIH07XG4gIGNvbnN0IGRyYWdPdmVyID0gKCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH07XG4gIGNvbnN0IGluc2VydERyYWdnZWRJbWFnZSA9IChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgaW1hZ2UgPSBldmVudC5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcImltYWdlXCIpO1xuICAgIGlmIChpbWFnZSA9PT0gXCJcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZChcInNoaXAtaW1hZ2UtNVwiKTtcbiAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZChcInNoaXAtaW1hZ2UtNS0zXCIpO1xuICAgIGV2ZW50LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBpbnNlcnREcmFnZ2VkSW1hZ2UpO1xuICB9O1xuICBjb25zdCByb3RhdGVTaGlwSW1hZ2UgPSAoaW1hZ2UpID0+IHtcbiAgICBjb25zdCBpbWFnZUNsYXNzZXMgPSBBcnJheS5mcm9tKGltYWdlLmNsYXNzTGlzdCk7XG4gICAgaWYgKGltYWdlQ2xhc3Nlcy5pbmNsdWRlcyhcImhvcml6b250YWxcIikpIHtcbiAgICAgIGltYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJob3Jpem9udGFsXCIpO1xuICAgICAgaW1hZ2UuY2xhc3NMaXN0LmFkZChcInZlcnRpY2FsXCIpO1xuICAgIH0gZWxzZSBpZiAoaW1hZ2VDbGFzc2VzLmluY2x1ZGVzKFwidmVydGljYWxcIikpIHtcbiAgICAgIGltYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJ2ZXJ0aWNhbFwiKTtcbiAgICAgIGltYWdlLmNsYXNzTGlzdC5hZGQoXCJob3Jpem9udGFsXCIpO1xuICAgIH1cbiAgfTtcbiAgY29uc3Qgcm90YXRlUGVyTGVuZ3RoID0gKHRlbXBEaXYsIGNsb25lZEltYWdlRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGNsb25lZEltYWdlRWxlbWVudENsYXNzZXMgPSBBcnJheS5mcm9tKGNsb25lZEltYWdlRWxlbWVudC5jbGFzc0xpc3QpO1xuICAgIGlmIChjbG9uZWRJbWFnZUVsZW1lbnRDbGFzc2VzLmluY2x1ZGVzKFwiaG9yaXpvbnRhbFwiKSkge1xuICAgICAgdGVtcERpdi5jbGFzc0xpc3QuYWRkKFwidGVtcC1yb3RhdGUtaG9yaXpvbnRhbFwiKTtcbiAgICB9IGVsc2UgaWYgKGNsb25lZEltYWdlRWxlbWVudENsYXNzZXMuaW5jbHVkZXMoXCJ2ZXJ0aWNhbFwiKSkge1xuICAgICAgdGVtcERpdi5jbGFzc0xpc3QuYWRkKFwidGVtcC1yb3RhdGUtdmVydGljYWxcIik7XG4gICAgICBpZiAoY2xvbmVkSW1hZ2VFbGVtZW50LmRhdGFzZXQuc2hpcExlbmd0aCA9PT0gXCI1XCIpIHtcbiAgICAgICAgdGVtcERpdi5jbGFzc0xpc3QuYWRkKFwidGVtcC1yb3RhdGUtdmVydGljYWwtNVwiKTtcbiAgICAgIH0gZWxzZSBpZiAoY2xvbmVkSW1hZ2VFbGVtZW50LmRhdGFzZXQuc2hpcExlbmd0aCA9PT0gXCI0XCIpIHtcbiAgICAgICAgdGVtcERpdi5jbGFzc0xpc3QuYWRkKFwidGVtcC1yb3RhdGUtdmVydGljYWwtNFwiKTtcbiAgICAgIH0gZWxzZSBpZiAoY2xvbmVkSW1hZ2VFbGVtZW50LmRhdGFzZXQuc2hpcExlbmd0aCA9PT0gXCIzXCIpIHtcbiAgICAgICAgdGVtcERpdi5jbGFzc0xpc3QuYWRkKFwidGVtcC1yb3RhdGUtdmVydGljYWwtM1wiKTtcbiAgICAgIH0gZWxzZSBpZiAoY2xvbmVkSW1hZ2VFbGVtZW50LmRhdGFzZXQuc2hpcExlbmd0aCA9PT0gXCIyXCIpIHtcbiAgICAgICAgdGVtcERpdi5jbGFzc0xpc3QuYWRkKFwidGVtcC1yb3RhdGUtdmVydGljYWwtMlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIGNvbnN0IHJvdGF0ZURyYWdnZWRJbWFnZSA9IChldmVudCkgPT4ge1xuICAgIGNvbnN0IGltYWdlRWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICBjb25zdCBjbG9uZWRJbWFnZUVsZW1lbnQgPSBpbWFnZUVsZW1lbnQuY2xvbmVOb2RlKCk7XG4gICAgY29uc3QgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGVtcERpdi5jbGFzc0xpc3QuYWRkKFwidGVtcC1yb3RhdGVcIik7XG4gICAgcm90YXRlUGVyTGVuZ3RoKHRlbXBEaXYsIGNsb25lZEltYWdlRWxlbWVudCk7XG4gICAgdGVtcERpdi5hcHBlbmRDaGlsZChjbG9uZWRJbWFnZUVsZW1lbnQpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGVtcERpdik7XG4gICAgZXZlbnQuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZSh0ZW1wRGl2LCAwLCAwKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodGVtcERpdik7XG4gICAgfSwgMCk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgZ2V0RHJhZ2dlZEltYWdlLFxuICAgIGRyYWdPdmVyLFxuICAgIGluc2VydERyYWdnZWRJbWFnZSxcbiAgICByb3RhdGVTaGlwSW1hZ2UsXG4gICAgcm90YXRlRHJhZ2dlZEltYWdlLFxuICB9O1xufSkoKTtcblxuZXhwb3J0IHsgRXZlbnRMaXN0ZW5lckNvbnRyb2xsZXIgfTtcbiIsImltcG9ydCB7IEV2ZW50TGlzdGVuZXJDb250cm9sbGVyIH0gZnJvbSBcIi4vZXZlbnRfbGlzdGVuZXJfY29udHJvbGxlclwiO1xuXG5jb25zdCBET01Db250cm9sbGVyID0gKCgpID0+IHtcbiAgY29uc3QgY3JlYXRlQm9hcmRDZWxscyA9IChnYW1lYm9hcmRET00pID0+IHtcbiAgICBjb25zdCBCT0FSREFYRVNMRU5HVEggPSAxMDtcbiAgICBjb25zdCBjb2x1bW5MYWJlbHMgPSBbXCJBXCIsIFwiQlwiLCBcIkNcIiwgXCJEXCIsIFwiRVwiLCBcIkZcIiwgXCJHXCIsIFwiSFwiLCBcIklcIiwgXCJKXCJdO1xuICAgIGNvbnN0IHJvd0xhYmVscyA9IFtcIjFcIiwgXCIyXCIsIFwiM1wiLCBcIjRcIiwgXCI1XCIsIFwiNlwiLCBcIjdcIiwgXCI4XCIsIFwiOVwiLCBcIjEwXCJdO1xuICAgIGZvciAobGV0IGkgPSAtMTsgaSA8IEJPQVJEQVhFU0xFTkdUSDsgaSsrKSB7XG4gICAgICBmb3IgKGxldCBqID0gLTE7IGogPCBCT0FSREFYRVNMRU5HVEg7IGorKykge1xuICAgICAgICBpZiAoaSA9PT0gLTEpIHtcbiAgICAgICAgICBpZiAoaiA9PT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IGludmlzaWJsZVBsYWNlaG9sZGVyRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBpbnZpc2libGVQbGFjZWhvbGRlckVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImdhbWVib2FyZC1sYWJlbFwiKTtcbiAgICAgICAgICAgIGludmlzaWJsZVBsYWNlaG9sZGVyRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICAgIGdhbWVib2FyZERPTS5hcHBlbmRDaGlsZChpbnZpc2libGVQbGFjZWhvbGRlckVsZW1lbnQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjb2x1bW5MYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgY29sdW1uTGFiZWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjb2x1bW4tbGFiZWxcIik7XG4gICAgICAgICAgICBjb2x1bW5MYWJlbEVsZW1lbnQudGV4dENvbnRlbnQgPSBjb2x1bW5MYWJlbHNbal07XG4gICAgICAgICAgICBnYW1lYm9hcmRET00uYXBwZW5kQ2hpbGQoY29sdW1uTGFiZWxFbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaiA9PT0gLTEpIHtcbiAgICAgICAgICBjb25zdCByb3dMYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgIHJvd0xhYmVsRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicm93LWxhYmVsXCIpO1xuICAgICAgICAgIHJvd0xhYmVsRWxlbWVudC50ZXh0Q29udGVudCA9IHJvd0xhYmVsc1tpXTtcbiAgICAgICAgICBnYW1lYm9hcmRET00uYXBwZW5kQ2hpbGQocm93TGFiZWxFbGVtZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zdCBjZWxsRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgY2VsbEVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YVJvd1wiLCBpKTtcbiAgICAgICAgICBjZWxsRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhQ29sdW1uXCIsIGopO1xuICAgICAgICAgIGNlbGxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJnYW1lYm9hcmQtY2VsbFwiKTtcbiAgICAgICAgICBjZWxsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgXCJkcmFnb3ZlclwiLFxuICAgICAgICAgICAgRXZlbnRMaXN0ZW5lckNvbnRyb2xsZXIuZHJhZ092ZXIuYmluZChldmVudClcbiAgICAgICAgICApO1xuICAgICAgICAgIGNlbGxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBcImRyb3BcIixcbiAgICAgICAgICAgIEV2ZW50TGlzdGVuZXJDb250cm9sbGVyLmluc2VydERyYWdnZWRJbWFnZS5iaW5kKGV2ZW50KVxuICAgICAgICAgICk7XG4gICAgICAgICAgLy8gc29tZSBjbGljayBldmVudCBsaXN0ZW5lciB3aGVyZSBhdHRhY2sgaXMgbWFkZSBPUiBwcmlvciB0byB0aGF0LCBwbGFjaW5nIHNoaXAgb24gdGhhdCBjZWxsXG4gICAgICAgICAgZ2FtZWJvYXJkRE9NLmFwcGVuZENoaWxkKGNlbGxFbGVtZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgY29uc3QgaW5pdGlhbGl6ZUJvYXJkRE9NID0gKCkgPT4ge1xuICAgIGNvbnN0IGh1bWFuUGxheWVyR2FtZWJvYXJkRE9NID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItYm9hcmRcIik7XG4gICAgY29uc3Qgb3Bwb25lbnRHYW1lYm9hcmRET00gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9wcG9uZW50LWJvYXJkXCIpO1xuICAgIGNyZWF0ZUJvYXJkQ2VsbHMoaHVtYW5QbGF5ZXJHYW1lYm9hcmRET00pO1xuICAgIGNyZWF0ZUJvYXJkQ2VsbHMob3Bwb25lbnRHYW1lYm9hcmRET00pO1xuICB9O1xuICBjb25zdCByb3RhdGVTaGlwSW1hZ2VMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2hpcFBsYWNlbWVudEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zaGlwLXBsYWNlbWVudFwiKTtcbiAgICBzaGlwUGxhY2VtZW50RWxlbWVudHMuZm9yRWFjaCgocGFpcikgPT4ge1xuICAgICAgY29uc3QgaW1nID0gcGFpci5jaGlsZHJlblswXTtcbiAgICAgIGNvbnN0IGJ0biA9IHBhaXIuY2hpbGRyZW5bMl07XG4gICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICBFdmVudExpc3RlbmVyQ29udHJvbGxlci5yb3RhdGVTaGlwSW1hZ2UuYmluZChldmVudCwgaW1nKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfTtcbiAgY29uc3QgYWRkU2hpcFBsYWNlbWVudERyYWcgPSAoKSA9PiB7XG4gICAgY29uc3Qgc2hpcEltYWdlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5zaGlwLXBpZWNlXCIpKTtcbiAgICBzaGlwSW1hZ2VzLmZvckVhY2goKHNoaXApID0+IHtcbiAgICAgIHNoaXAuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdzdGFydFwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgRXZlbnRMaXN0ZW5lckNvbnRyb2xsZXIuZ2V0RHJhZ2dlZEltYWdlKGV2ZW50KTtcbiAgICAgICAgRXZlbnRMaXN0ZW5lckNvbnRyb2xsZXIucm90YXRlRHJhZ2dlZEltYWdlKGV2ZW50KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGluaXRpYWxpemVCb2FyZERPTSxcbiAgICByb3RhdGVTaGlwSW1hZ2VMaXN0ZW5lcnMsXG4gICAgYWRkU2hpcFBsYWNlbWVudERyYWcsXG4gIH07XG59KSgpO1xuXG5leHBvcnQgeyBET01Db250cm9sbGVyIH07XG4iLCJpbXBvcnQgeyBET01Db250cm9sbGVyIH0gZnJvbSBcIi4vRE9NX2NvbnRyb2xsZXJcIjtcblxuRE9NQ29udHJvbGxlci5pbml0aWFsaXplQm9hcmRET00oKTtcblxuRE9NQ29udHJvbGxlci5yb3RhdGVTaGlwSW1hZ2VMaXN0ZW5lcnMoKTtcblxuRE9NQ29udHJvbGxlci5hZGRTaGlwUGxhY2VtZW50RHJhZygpO1xuIl0sIm5hbWVzIjpbIkV2ZW50TGlzdGVuZXJDb250cm9sbGVyIiwiaW5zZXJ0RHJhZ2dlZEltYWdlIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImRhdGFUcmFuc2ZlciIsImdldERhdGEiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZ2V0RHJhZ2dlZEltYWdlIiwic2V0RGF0YSIsInNyYyIsImRyYWdPdmVyIiwicm90YXRlU2hpcEltYWdlIiwiaW1hZ2UiLCJpbWFnZUNsYXNzZXMiLCJBcnJheSIsImZyb20iLCJpbmNsdWRlcyIsInJlbW92ZSIsInJvdGF0ZURyYWdnZWRJbWFnZSIsImNsb25lZEltYWdlRWxlbWVudCIsImNsb25lTm9kZSIsInRlbXBEaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbG9uZWRJbWFnZUVsZW1lbnRDbGFzc2VzIiwiZGF0YXNldCIsInNoaXBMZW5ndGgiLCJyb3RhdGVQZXJMZW5ndGgiLCJhcHBlbmRDaGlsZCIsImJvZHkiLCJzZXREcmFnSW1hZ2UiLCJzZXRUaW1lb3V0IiwicmVtb3ZlQ2hpbGQiLCJET01Db250cm9sbGVyIiwiY3JlYXRlQm9hcmRDZWxscyIsImdhbWVib2FyZERPTSIsImNvbHVtbkxhYmVscyIsInJvd0xhYmVscyIsImkiLCJqIiwiaW52aXNpYmxlUGxhY2Vob2xkZXJFbGVtZW50Iiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwiY29sdW1uTGFiZWxFbGVtZW50IiwidGV4dENvbnRlbnQiLCJyb3dMYWJlbEVsZW1lbnQiLCJjZWxsRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJiaW5kIiwiaW5pdGlhbGl6ZUJvYXJkRE9NIiwiaHVtYW5QbGF5ZXJHYW1lYm9hcmRET00iLCJxdWVyeVNlbGVjdG9yIiwib3Bwb25lbnRHYW1lYm9hcmRET00iLCJyb3RhdGVTaGlwSW1hZ2VMaXN0ZW5lcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInBhaXIiLCJpbWciLCJjaGlsZHJlbiIsImFkZFNoaXBQbGFjZW1lbnREcmFnIiwic2hpcCJdLCJzb3VyY2VSb290IjoiIn0=